<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cont√°ctenos - AdoptPets</title>
    <link href='https://fonts.googleapis.com/css?family=Noto Sans' rel='stylesheet'>
    <link th:href="@{/css/main.css}" rel="stylesheet">
    <link th:href="@{/css/header.css}" rel="stylesheet">
    <link th:href="@{/css/footer.css}" rel="stylesheet">
    <style>
        .contact-section {
            max-width: 800px;
            margin: 3rem auto;
            padding: 2rem;
        }
        
        .contact-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .contact-header h1 {
            color: #2ecc71;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .contact-header p {
            color: #7f8c8d;
            font-size: 1.1rem;
        }
        
        .contact-form {
            background: white;
            padding: 2.5rem;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #2c3e50;
            font-weight: 600;
            font-size: 1rem;
        }
        
        .form-group label .required {
            color: #e74c3c;
        }
        
        .form-control {
            width: 100%;
            padding: 0.875rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            font-family: 'Noto Sans', sans-serif;
            transition: all 0.3s;
            box-sizing: border-box;
        }
        
        .form-control:focus {
            outline: none;
            border-color: #2ecc71;
            box-shadow: 0 0 0 3px rgba(46, 204, 113, 0.1);
        }
        
        .form-control.is-invalid {
            border-color: #e74c3c;
        }
        
        .invalid-feedback {
            color: #e74c3c;
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: block;
        }
        
        textarea.form-control {
            resize: vertical;
            min-height: 150px;
        }
        
        .btn-submit {
            background: #2ecc71;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
        }
        
        .btn-submit:hover {
            background: #27ae60;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(46, 204, 113, 0.3);
        }
        
        .contact-info {
            margin-top: 3rem;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 15px;
        }
        
        .contact-info h3 {
            color: #2c3e50;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }
        
        .info-item {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            color: #2c3e50;
        }
        
        .info-item .icon {
            margin-right: 1rem;
            font-size: 1.5rem;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background-color: white;
            padding: 2.5rem;
            border-radius: 15px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            animation: slideDown 0.3s;
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .modal-content h2 {
            color: #2ecc71;
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }

        .modal-content p {
            color: #555;
            margin-bottom: 2rem;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .btn-modal {
            background: #2ecc71;
            color: white;
            padding: 0.875rem 2.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-modal:hover {
            background: #27ae60;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
<div th:replace="~{fragments/header :: header}"></div>

<section class="contact-section">
    <div class="contact-header">
        <h1>üêæ Cont√°ctenos</h1>
        <p>¬øTienes alguna pregunta? Estamos aqu√≠ para ayudarte</p>
    </div>
    
    <!-- Formulario de contacto -->
    <div class="contact-form">
        <form th:action="@{/contacto/enviar}" 
              th:object="${contactDTO}" 
              method="post"
              id="contactForm">
            
            <!-- Nombre -->
            <div class="form-group">
                <label for="nombre">
                    Nombre completo <span class="required">*</span>
                </label>
                <input type="text" 
                       id="nombre" 
                       th:field="*{nombre}" 
                       class="form-control"
                       th:classappend="${#fields.hasErrors('nombre')} ? 'is-invalid' : ''"
                       placeholder="Ej: Juan P√©rez">
                <div class="invalid-feedback" th:if="${#fields.hasErrors('nombre')}">
                    <span th:errors="*{nombre}"></span>
                </div>
            </div>
            
            <!-- Email -->
            <div class="form-group">
                <label for="email">
                    Correo electr√≥nico <span class="required">*</span>
                </label>
                <input type="email" 
                       id="email" 
                       th:field="*{email}" 
                       class="form-control"
                       th:classappend="${#fields.hasErrors('email')} ? 'is-invalid' : ''"
                       placeholder="Ej: correo@ejemplo.com">
                <div class="invalid-feedback" th:if="${#fields.hasErrors('email')}">
                    <span th:errors="*{email}"></span>
                </div>
            </div>
            
            <!-- Tel√©fono (opcional) -->
            <div class="form-group">
                <label for="telefono">
                    Tel√©fono (opcional)
                </label>
                <input type="tel" 
                       id="telefono" 
                       th:field="*{telefono}" 
                       class="form-control"
                       placeholder="Ej: +57 300 123 4567">
            </div>
            
            <!-- Asunto -->
            <div class="form-group">
                <label for="asunto">
                    Asunto <span class="required">*</span>
                </label>
                <input type="text" 
                       id="asunto" 
                       th:field="*{asunto}" 
                       class="form-control"
                       th:classappend="${#fields.hasErrors('asunto')} ? 'is-invalid' : ''"
                       placeholder="¬øEn qu√© podemos ayudarte?">
                <div class="invalid-feedback" th:if="${#fields.hasErrors('asunto')}">
                    <span th:errors="*{asunto}"></span>
                </div>
            </div>
            
            <!-- Mensaje -->
            <div class="form-group">
                <label for="mensaje">
                    Mensaje <span class="required">*</span>
                </label>
                <textarea id="mensaje" 
                          th:field="*{mensaje}" 
                          class="form-control"
                          th:classappend="${#fields.hasErrors('mensaje')} ? 'is-invalid' : ''"
                          placeholder="Escribe tu mensaje aqu√≠..."></textarea>
                <div class="invalid-feedback" th:if="${#fields.hasErrors('mensaje')}">
                    <span th:errors="*{mensaje}"></span>
                </div>
            </div>
            
            <button type="submit" class="btn-submit">
                üìß Enviar mensaje
            </button>
        </form>
    </div>
    
    <!-- Informaci√≥n de contacto adicional -->
    <div class="contact-info">
        <h3>Otras formas de contactarnos</h3>
        <div class="info-item">
            <span class="icon">üìß</span>
            <span>Email: adopttpetts@example.com</span>
        </div>
        <div class="info-item">
            <span class="icon">üì±</span>
            <span>Tel√©fono: 239812910010</span>
        </div>
        <div class="info-item">
            <span class="icon">üìç</span>
            <span>Direcci√≥n: Calle 123 #45-67, Bogot√°, Colombia</span>
        </div>
        <div class="info-item">
            <span class="icon">üïê</span>
            <span>Horario: Lunes a Viernes, 9:00 AM - 6:00 PM</span>
        </div>
    </div>
</section>

<!-- Modal de confirmaci√≥n -->
<div id="successModal" class="modal" th:classappend="${mensajeExito} ? 'show' : ''">
    <div class="modal-content">
        <div class="modal-icon">‚úÖ</div>
        <h2>¬°Mensaje Enviado!</h2>
        <p>Ser√° contactado en el transcurso de 3 d√≠as h√°biles</p>
        <button class="btn-modal" onclick="closeModal()">Aceptar</button>
    </div>
</div>

<div th:replace="~{fragments/footer :: ~{footer}}"></div>

<script th:inline="javascript">
    // Mostrar modal si hay mensaje de √©xito
    /*<![CDATA[*/
    var mensajeExito = /*[[${mensajeExito}]]*/ null;
    
    if (mensajeExito) {
        document.getElementById('successModal').classList.add('show');
    }
    
    function closeModal() {
        document.getElementById('successModal').classList.remove('show');
        window.location.href = '/main';
    }
    
    // Cerrar modal al hacer clic fuera de √©l
    window.onclick = function(event) {
        var modal = document.getElementById('successModal');
        if (event.target == modal) {
            closeModal();
        }
    }
    /*]]>*/
</script>

</body>
</html>